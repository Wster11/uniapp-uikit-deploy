import{d as e,r as t,s as a,q as s,v as n,o,c as r,w as l,a as i,u as c,g as u,x as d,b as p,t as m,f as v,H as f}from"./index-USJ8ZV9j.js";import{S as x}from"./index.CgyAxIMo.js";import{M as _}from"./index.BfIFvBkH.js";import{U as h}from"./index.BqHB4PFf.js";import{I}from"./index.D7EZ4xV1.js";import{A as C}from"./index.D-3UPTzE.js";import{N as g}from"./index.C1k3bsgS.js";import{_ as T}from"./_plugin-vue_export-helper.BCo6x5W8.js";const U=T(e({__name:"index",setup(e){const p=t({}),m=a((()=>{p.value=s.appUserStore.getSelfUserInfo()})),v=()=>{uni.navigateTo({url:"/ChatUIKIT/modules/ContactAdd/index"})};return n((()=>{m()})),(e,t)=>{const a=u;return o(),r(a,null,{default:l((()=>[i(g,{showBackArrow:!1},{left:l((()=>[i(C,{size:32,src:p.value.avatar,withPresence:!0,placeholder:c(d),presenceExt:p.value.presenceExt,isOnline:p.value.isOnline},null,8,["src","placeholder","presenceExt","isOnline"])])),center:l((()=>[i(a,{class:"title"})])),right:l((()=>[i(a,{class:"btn-wrap"},{default:l((()=>[i(a,{class:"action-btn",onClick:v})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-5bca9c0c"]]),j=T(e({__name:"index",setup(e){const d=t([]),C=t(0),g=t(0),T=a((()=>{g.value=s.contactStore.contactsNoticeInfo.unReadCount})),j=a((()=>{d.value=s.contactStore.contacts.map((e=>({...e,...s.appUserStore.getUserInfoFromStore(e.userId),id:e.userId})))})),k=a((()=>{C.value=s.groupStore.joinedGroupList.length})),w=()=>{uni.navigateTo({url:"/ChatUIKIT/modules/GroupList/index"})},S=()=>{uni.navigateTo({url:"/ChatUIKIT/modules/ContactSearchList/index"})},b=()=>{uni.navigateTo({url:"/ChatUIKIT/modules/ContactRequestList/index"})};return n((()=>{j(),T(),k()})),(e,t)=>{const a=u;return o(),r(a,{class:"contact-list-wrap"},{default:l((()=>[i(a,{class:"header-wrap"},{default:l((()=>[i(U),i(x,{onClick:S,class:"contact-search"})])),_:1}),i(I,{class:"contact-index-list",options:d.value},{header:l((()=>[i(a,{class:"contact-menu-wrap"},{default:l((()=>[i(_,{onClick:b,class:"contact-menu",title:c(f)("newRequest")},{right:l((()=>[g.value?(o(),r(a,{key:0,class:"request-count"},{default:l((()=>[p(m(g.value>99?"99+":g.value),1)])),_:1})):v("",!0)])),_:1},8,["title"]),i(_,{onClick:w,class:"contact-menu",title:c(f)("groupList")},{right:l((()=>[C.value?(o(),r(a,{key:0,class:"count"},{default:l((()=>[p(m(C.value),1)])),_:1})):v("",!0)])),_:1},8,["title"])])),_:1})])),indexedItem:l((e=>[i(h,{user:e.item,onClick:t=>{return a=e.item.userId,void uni.navigateTo({url:`/ChatUIKIT/modules/Chat/index?type=singleChat&id=${a}`});var a}},null,8,["user","onClick"])])),_:1},8,["options"])])),_:1})}}}),[["__scopeId","data-v-259b3004"]]);export{j as default};
