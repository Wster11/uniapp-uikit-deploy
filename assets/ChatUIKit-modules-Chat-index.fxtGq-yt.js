import{d as e,r as s,z as a,s as t,v as l,_ as o,o as n,a as u,c as r,w as i,b as c,u as d,e as m,t as p,h as g,x as v,X as f,f as _,J as h,L as y,K as k,G as S,H as I,g as w,W as b,R as x,Q as C,T,$ as U,Z as M,Y as F,a0 as P,a1 as E,a2 as j,a3 as R,a4 as B,a5 as $,a6 as L,a7 as A,I as O,a8 as Q,a9 as q,aa as N,ab as z,ac as V,B as H,D,E as K,F as G,ad as W,ae as Y}from"./index-GeUo7Bki.js";import{A as J}from"./index.B1QDEPm4.js";import{N as X}from"./index.CiZC1uyQ.js";import{_ as Z}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{U as ee}from"./index.zxHxZ29P.js";import{I as se}from"./index.cJ6j-lJi.js";import{o as ae,a as te}from"./uni-app.es.DmAd2Uv-.js";const le=Z(e({__name:"index",setup(e){const _=s({avatar:"",name:"",id:""}),h=a((()=>"singleChat"===_.value.conversationType)),y=t.getFeatureConfig(),k=l((()=>{const e=t.convStore.currConversation;if("singleChat"===(null==e?void 0:e.conversationType)){const s=t.appUserStore.getUserInfoFromStore(e.conversationId);_.value={name:null==s?void 0:s.name,id:e.conversationId,avatar:null==s?void 0:s.avatar,conversationType:e.conversationType,presenceExt:null==s?void 0:s.presenceExt,isOnline:null==s?void 0:s.isOnline}}else if("groupChat"===(null==e?void 0:e.conversationType)){const s=t.groupStore.getGroupInfoFromStore(e.conversationId);_.value={name:(null==s?void 0:s.groupName)||e.conversationId,id:e.conversationId,avatar:t.groupStore.getGroupAvatar(e.conversationId),conversationType:e.conversationType}}})),S=()=>{uni.navigateBack()};return o((()=>{y.usePresence&&h&&(t.appUserStore.getUsersPresenceFromServer({userIdList:[_.value.id]}),t.appUserStore.subscribePresence({userIdList:[_.value.id]}))})),n((()=>{y.usePresence&&h&&t.appUserStore.unsubscribePresence({userIdList:[_.value.id]}),k()})),(e,s)=>{const a=g;return u(),r(a,null,{default:i((()=>[c(X,{onOnLeftTap:S},{left:i((()=>[c(a,{class:"left-content"},{default:i((()=>[c(J,{class:"nav-avatar",size:32,src:_.value.avatar,placeholder:h.value?d(v):d(f),withPresence:!!h.value,presenceExt:_.value.presenceExt,isOnline:_.value.isOnline},null,8,["src","placeholder","withPresence","presenceExt","isOnline"]),c(a,{class:"name ellipsis"},{default:i((()=>[m(p(_.value.name),1)])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-e015253a"]]),oe=Z(e({__name:"messageTxt",props:{msg:{}},setup(e){const s=e,l=a((()=>b(s.msg.msg))),o=s.msg.from===t.getChatConn().user||""===s.msg.from;return(e,a)=>{const t=x,n=g;return u(),r(n,{class:"msg-text"},{default:i((()=>[_("span",{class:"msg"},[(u(!0),h(y,null,k(l.value,((e,s)=>(u(),h("span",{class:S([{"emoji-wrap":"text"!==e.type}]),key:s},["text"===e.type?(u(),h("span",{key:0},p(e.value),1)):(u(),r(t,{key:1,class:"msg-emoji",src:e.value},null,8,["src"]))],2)))),128))]),s.msg.modifiedInfo?(u(),r(n,{key:0,class:S(["msg-edited-tag",{self:d(o)}])},{default:i((()=>[m(p(d(I)("messageEdited")),1)])),_:1},8,["class"])):w("",!0)])),_:1})}}}),[["__scopeId","data-v-2ddff6bc"]]),ne=225,ue=Z(e({__name:"messageImage",props:{msg:{},mode:{},width:{},height:{},disabledPreview:{type:Boolean}},setup(e){const a=T+"img404.png",t=e,l=s(!1),o=t.width?`${t.width}px`:"auto",n=t.height?`${t.height}px`:"225px",m=s({width:o,height:n}),p=t.mode||"aspectFit",v=()=>{l.value=!0},f=()=>{l.value||!0===t.disabledPreview||uni.previewImage({urls:[t.msg.url||""]})},_=e=>{t.width||t.height||(e=>{const{width:s,height:a}=e;if(0===s||0===a)return;let t=0,l=0;s>a?(t=ne,l=ne*a/s):(t=ne*s/a,l=ne),m.value.width=t+"px",m.value.height=l+"px"})(e.detail)};return(e,s)=>{const t=x,o=g;return u(),r(o,{class:"msg-image"},{default:i((()=>[c(t,{mode:d(p),style:C({width:m.value.width,height:m.value.height}),onError:v,onClick:f,onLoad:_,class:"image",src:l.value?a:e.msg.thumb||e.msg.url},null,8,["mode","style","src"])])),_:1})}}}),[["__scopeId","data-v-613f784e"]]),re=Z(e({__name:"messageVideo",props:{msg:{type:Object,required:!0},mode:{type:String,default:"aspectFill"},width:{type:Number,default:120},height:{type:Number,default:200},disabledPreview:{type:Boolean,default:!1}},setup(e){const a=T+"video404.png",t=T+"videoplay.png",l=e,o={width:l.width+"px",height:l.height+"px"},n={width:l.width/2+"px",height:l.width/2+"px"},d=s(!1),m=()=>{d.value=!0},p=()=>{!0!==l.disabledPreview&&uni.navigateTo({url:`/ChatUIKit/modules/VideoPreview/index?url=${l.msg.url}`})};return(s,l)=>{const v=x,f=g;return u(),r(f,{class:"msg-video"},{default:i((()=>[c(f,{class:"video-poster",style:o},{default:i((()=>[c(v,{mode:e.mode,onError:m,style:o,class:"image",src:d.value?a:e.msg.thumb},null,8,["mode","src"]),d.value?w("",!0):(u(),r(f,{key:0,onClick:p,style:C({width:n.width,height:n.height}),class:"video-play-btn"},{default:i((()=>[c(v,{class:"video-play-btn-image",src:t})])),_:1},8,["style"]))])),_:1})])),_:1})}}}),[["__scopeId","data-v-b5ab47fe"]]),ie=Z(e({__name:"messageAudio",props:{msg:{}},setup(e){const a=T+"icon/receiveAudio.png",l=T+"icon/sendAudio.png",o=T+"icon/sendAudioPlaying.gif",v=T+"icon/receiveAudioPlaying.gif",f=t.getChatConn(),_=e,h=new Map,y=s(!1),k=t.messageStore.checkMessageFromIsSelf(_.msg),S=t.messageStore,I=async()=>{if(!E()){const e=uni.createInnerAudioContext();h.set("audio",e),b(),e.src=await w()}M()},w=()=>"sending"===_.msg.status?_.msg.url:new Promise(((e,s)=>{const{url:a}=_.msg;uni.downloadFile({url:a||"",header:{"X-Requested-With":"XMLHttpRequest",Accept:"audio/mp3",Authorization:"Bearer "+f.token},success:s=>{const a=s.tempFilePath;e(a)},fail:e=>{console.warn("downloadFile failed",e),s(e),uni.showToast({title:"语音转mp3失败",duration:2e3})}})})),b=()=>{const e=E();e&&(y.value=!1,e.onPlay((()=>{y.value=!0})),e.onStop((()=>{y.value=!1})),e.onPause((()=>{y.value=!1})),e.onError((e=>{y.value=!1,console.warn("audio play error",e)})),e.onEnded((()=>{y.value=!1})))},M=()=>{y.value?P():(S.setPlayingAudioMessageId(_.msg.id),F())},F=()=>{var e;null==(e=E())||e.play()},P=()=>{var e;null==(e=E())||e.stop()},E=()=>h.get("audio");return U((()=>S.playingAudioMsgId),(e=>{e!==_.msg.id&&(P(),y.value=!1)})),n((()=>{var e;const s=E();y.value&&P(),null==(e=null==s?void 0:s.destroy)||e.call(s),h.delete("audio")})),(e,s)=>{const t=g,n=x;return u(),r(t,{class:"msg-audio"},{default:i((()=>[c(t,{class:"content-wrap",onClick:I},{default:i((()=>[d(k)?(u(),r(t,{key:0,class:"content",style:C({width:10*(_.msg.length||0)+"px"})},{default:i((()=>[c(t,null,{default:i((()=>[m(p(_.msg.length)+"'' ",1)])),_:1}),c(n,{class:"image",src:y.value?o:l,mode:"aspectFit"},null,8,["src"])])),_:1},8,["style"])):(u(),r(t,{key:1,class:"content",style:C({width:5*(_.msg.length||0)+"px"})},{default:i((()=>[c(n,{class:"image",src:y.value?v:a,mode:"aspectFit"},null,8,["src"]),c(t,null,{default:i((()=>[m(p(_.msg.length)+"''",1)])),_:1})])),_:1},8,["style"]))])),_:1})])),_:1})}}}),[["__scopeId","data-v-8c8b2382"]]),ce=Z(e({__name:"messageFile",props:{msg:{}},setup(e){const s=e,a=s.msg.file_length||s.msg.body.file_length,l=t.messageStore.checkMessageFromIsSelf(s.msg),o=(a/1024).toFixed(2)+"kb",n=()=>{window.open(s.msg.url,"_blank")};return(e,a)=>{const t=g;return u(),r(t,{class:S(["msg-file",{isSelf:d(l)}]),onClick:n},{default:i((()=>[c(t,{class:"left"}),c(t,{class:"right"},{default:i((()=>[c(t,{class:"file-name ellipsis"},{default:i((()=>[m(p(s.msg.filename),1)])),_:1}),c(t,{class:"file-size"},{default:i((()=>[m(p(o))])),_:1})])),_:1})])),_:1},8,["class"])}}}),[["__scopeId","data-v-5f6b9982"]]),de=Z(e({__name:"messageUserCard",props:{msg:{}},setup(e){const s=e,l=t.messageStore.checkMessageFromIsSelf(s.msg),o=a((()=>{const e=t.appUserStore.getUserInfoFromStore(s.msg.customExts.uid);return{nickname:(null==e?void 0:e.nickname)||s.msg.customExts.nickname,avatar:(null==e?void 0:e.avatar)||s.msg.customExts.avatar}}));return(e,s)=>{const a=g;return u(),r(a,{class:"msg-user-card-wrap"},{default:i((()=>[c(a,{class:S(["msg-user-card",{isSelf:d(l)}])},{default:i((()=>[c(J,{class:"user-card-avatar",size:44,src:o.value.avatar,placeholder:d(v)},null,8,["src","placeholder"]),c(a,{class:"user-name ellipsis"},{default:i((()=>[m(p(o.value.nickname),1)])),_:1})])),_:1},8,["class"]),c(a,{class:"tag"},{default:i((()=>[m(p(d(I)("contact")),1)])),_:1})])),_:1})}}}),[["__scopeId","data-v-7639346d"]]),me=Z(e({__name:"messageQuote",props:{msgId:{},isReplying:{type:Boolean},messageQuoteExt:{},titleStyle:{}},emits:["jumpToMessage"],setup(e,{emit:o}){const v=e,f=s(null),T=s(null),U=o,P=()=>{T.value&&U("jumpToMessage",T.value.id)},E=a((()=>T.value?b(F(T.value)):b(I("messageNotFound")))),j=l((()=>{var e;if(v.msgId){if(T.value=M(t.messageStore.messageMap.get(v.msgId))||null,!T.value)return void(f.value={nickname:v.messageQuoteExt.msgSender});f.value=t.appUserStore.getUserInfoFromStore(T.value.from)}else{if(T.value=(null==(e=t.messageStore)?void 0:e.quoteMessage)||null,!T.value)return;f.value=t.appUserStore.getUserInfoFromStore(T.value.from)}})),R=I("you"),B=I("reply");return n((()=>{j()})),(e,s)=>{const a=g,t=x;return u(),r(a,{class:"msg-quote-wrap"},{default:i((()=>[c(a,{class:"quote-brief",onClick:P},{default:i((()=>[c(a,{class:"title",style:C(e.titleStyle?e.titleStyle:{})},{default:i((()=>[v.isReplying?(u(),r(a,{key:0,class:"user",textContent:p(d(R))},null,8,["textContent"])):w("",!0),v.isReplying?(u(),r(a,{key:1,class:"tip",textContent:p(d(B))},null,8,["textContent"])):w("",!0),f.value?(u(),r(a,{key:2,class:"user ellipsis"},{default:i((()=>[m(p(f.value.nickname),1)])),_:1})):w("",!0)])),_:1},8,["style"]),c(a,{class:"content"},{default:i((()=>[_("span",{class:"msg ellipsis"},[(u(!0),h(y,null,k(E.value,((e,s)=>(u(),h("span",{class:S([{"emoji-wrap":"text"!==e.type}]),key:s},["text"===e.type?(u(),h("span",{key:0},p(e.value),1)):(u(),r(t,{key:1,class:"msg-emoji",src:e.value},null,8,["src"]))],2)))),128))])])),_:1})])),_:1}),T.value?(u(),r(a,{key:0,class:"quote-msg"},{default:i((()=>["img"===T.value.type?(u(),r(ue,{key:0,msg:T.value,mode:"scaleToFill",width:40,height:40,disabledPreview:v.isReplying},null,8,["msg","disabledPreview"])):"video"===T.value.type?(u(),r(re,{key:1,msg:T.value,mode:"scaleToFill",width:40,height:40,disabledPreview:v.isReplying},null,8,["msg","disabledPreview"])):w("",!0)])),_:1})):w("",!0)])),_:1})}}}),[["__scopeId","data-v-c297ec80"]]),pe=Z(e({__name:"messageActions",props:{msg:{},isSelected:{type:Boolean}},setup(e,{expose:l}){const n=T+"icon/copy.png",v=T+"icon/recall.png",f=T+"icon/reply.png",_=T+"icon/edit.png",U=T+"icon/delete.png",M=e,F=s(!1),E=s(""),j=s(0),R=s("0px"),B=s([]),$=s({width:0,height:0}),L=t.messageStore.checkMessageFromIsSelf(M.msg);o((()=>{uni.getSystemInfo({success:e=>{$.value={width:e.windowWidth,height:e.windowHeight}}})}));const A=a((()=>"overstep"===E.value?{top:`${j.value}px`,right:0}:"")),O=a((()=>"nearTop"===E.value?L?"right-up-box":"left-up-box":"nearBottom"===E.value?L?"right-down-box":"left-down-box":""));const Q=()=>{const e=b(M.msg.msg).reduce(((e,s)=>e+("text"===s.type?s.value:s.alt)),"");uni.setClipboardData({data:e,success:()=>{F.value=!1}})},q=()=>{t.messageStore.setQuoteMessage(M.msg),F.value=!1},N=()=>{t.messageStore.setEditingMessage(M.msg),F.value=!1},z=()=>{t.messageStore.deleteMessage({conversationType:M.msg.chatType,conversationId:t.convStore.getCvsIdFromMessage(M.msg)},M.msg)},V=()=>{t.messageStore.recallMessage(M.msg),F.value=!1};return l({handleLongPress:function(e,s){let a=e.changedTouches[0].clientY;uni.createSelectorQuery().in(s).select(`#msg-bubble-${M.msg.id}`).boundingClientRect((e=>{R.value="8px",e.top>180?E.value="nearBottom":e.height>$.value.height/2?(e.top<0?j.value=-e.top+a:j.value=a-e.top,E.value="overstep"):E.value="nearTop"})).exec(),(()=>{const e=[],s=Date.now(),a=M.msg.time,l=("sent"===M.msg.status||"read"===M.msg.status)&&s-a<12e4,o=L&&"txt"===M.msg.type&&"failed"!==M.msg.status&&"sending"!==M.msg.status,u="failed"!==M.msg.status&&"sending"!==M.msg.status,r=t.getFeatureConfig();r.copyMessage&&"txt"===M.msg.type&&e.push({label:I("copyBtn"),icon:n,action:Q}),r.editMessage&&o&&e.push({label:I("editBtn"),icon:_,action:N}),r.replyMessage&&u&&e.push({label:I("replyBtn"),icon:f,action:q}),r.deleteMessage&&e.push({label:I("deleteBtn"),icon:U,action:z}),L&&r.recallMessage&&l&&e.push({label:I("recallBtn"),icon:v,action:V}),B.value=e})(),setTimeout((()=>{F.value=!0}),100)}}),(e,s)=>{const a=x,t=g;return F.value&&B.value.length?(u(),r(t,{key:0,class:S(["message-popup-box",O.value]),style:C("overstep"==E.value?A.value:{"--arrowPosition":R.value,right:d(L)?"0":"auto"})},{default:i((()=>[c(t,{class:"message-operate"},{default:i((()=>[(u(!0),h(y,null,k(B.value,((e,s)=>(u(),r(t,{class:"operate-item",key:s,onClick:P(e.action,["stop"])},{default:i((()=>[c(a,{src:e.icon,mode:"aspectFill",alt:"",class:"operate-item-icon"},null,8,["src"]),c(t,{class:"operate-item-txt"},{default:i((()=>[m(p(e.label),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},8,["class","style"])):w("",!0)}}}),[["__scopeId","data-v-bddf27ae"]]),ge=Z(e({__name:"messageStatus",props:{msg:{}},setup(e){const s=e;return(e,a)=>{const t=g;return u(),r(t,{class:"msg-status-wrap"},{default:i((()=>["sending"===s.msg.status?(u(),r(t,{key:0,class:"msg-status sending"})):"sent"===s.msg.status?(u(),r(t,{key:1,class:"msg-status sent"})):"failed"===s.msg.status?(u(),r(t,{key:2,class:"msg-status failed"})):"received"===s.msg.status?(u(),r(t,{key:3,class:"msg-status received"})):"read"===s.msg.status?(u(),r(t,{key:4,class:"msg-status read"})):w("",!0)])),_:1})}}}),[["__scopeId","data-v-edc7aa81"]]),ve=Z(e({__name:"messageItem",props:{msg:{},isSelected:{type:Boolean}},emits:["onLongPress","jumpToMessage"],setup(e,{emit:l}){var o;const n=e,f=l,_=e=>{f("jumpToMessage",e)},h=j(),y=s(null),k=t.appUserStore,I=e=>k.getUserInfoFromStore(e||""),b=t.getFeatureConfig().messageStatus,x=t.getChatConn().user===n.msg.from||""===n.msg.from,T=(null==(o=n.msg.ext)?void 0:o.ease_chat_uikit_user_info)||{},U=a((()=>{let e="msg-bubble";return"img"!==n.msg.type&&"video"!==n.msg.type&&(e=x?"msg-bubble msg-bubble-self-bg":"msg-bubble msg-bubble-bg"),e}));return(e,s)=>{const a=g;return u(),r(a,{class:"msg-item-wrap",style:C({flexDirection:d(x)?"row-reverse":"row"})},{default:i((()=>[c(a,{class:"avatar-wrap"},{default:i((()=>[c(J,{size:28,src:I(e.msg.from||"").avatar||d(T).avatarURL||"",placeholder:d(v)},null,8,["src","placeholder"])])),_:1}),c(a,{class:"msg-content",style:C({textAlign:d(x)?"right":"left"})},{default:i((()=>[c(a,null,{default:i((()=>[d(x)?w("",!0):(u(),r(a,{key:0,class:"user-nickname"},{default:i((()=>[m(p(I(e.msg.from||"").nickname||d(T).nickname),1)])),_:1})),e.msg.ext.msgQuote&&e.msg.ext.msgQuote.msgID?(u(),r(a,{key:1,class:"msg-quote-container"},{default:i((()=>[c(me,{msgId:e.msg.ext.msgQuote.msgID,messageQuoteExt:e.msg.ext.msgQuote,titleStyle:{justifyContent:d(x)?"flex-end":"flex-start"},onJumpToMessage:_},null,8,["msgId","messageQuoteExt","titleStyle"])])),_:1})):w("",!0),c(a,{class:S(U.value),id:"msg-bubble-"+e.msg.id,onLongpress:s[0]||(s[0]=e=>{(e=>{f("onLongPress",n.msg.id),setTimeout((()=>{var s;null==(s=null==y?void 0:y.value)||s.handleLongPress(e,h)}),0)})(e)})},{default:i((()=>[d(b)&&d(x)&&e.msg.status?(u(),r(ge,{key:0,msg:e.msg},null,8,["msg"])):w("",!0),"txt"===e.msg.type?(u(),r(a,{key:1},{default:i((()=>[c(oe,{msg:e.msg},null,8,["msg"])])),_:1})):"img"===e.msg.type?(u(),r(a,{key:2},{default:i((()=>[c(ue,{msg:e.msg},null,8,["msg"])])),_:1})):"video"===e.msg.type?(u(),r(a,{key:3},{default:i((()=>[c(re,{msg:e.msg},null,8,["msg"])])),_:1})):"audio"===e.msg.type?(u(),r(a,{key:4},{default:i((()=>[c(ie,{msg:e.msg},null,8,["msg"])])),_:1})):"custom"===e.msg.type?(u(),r(a,{key:5},{default:i((()=>["userCard"===e.msg.customEvent?(u(),r(de,{key:0,msg:e.msg},null,8,["msg"])):w("",!0)])),_:1})):"file"===e.msg.type?(u(),r(a,{key:6},{default:i((()=>[c(ce,{msg:e.msg},null,8,["msg"])])),_:1})):w("",!0)])),_:1},8,["class","id"])])),_:1}),c(a,{class:"msg-time"},{default:i((()=>[m(p(d(E)(e.msg.time,!0)),1)])),_:1}),n.isSelected?(u(),r(pe,{key:0,ref_key:"actionRef",ref:y,msg:e.msg,isSelected:n.isSelected},null,8,["msg","isSelected"])):w("",!0)])),_:1},8,["style"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-ecd928fb"]]),fe=Z(e({__name:"noticeMessageItem",props:{msg:{}},setup(e){var s,a;const l=t.appUserStore,o=e,{msg:n}=o,v=(null==(s=n.noticeInfo)?void 0:s.ext)||{},f=null==(a=n.noticeInfo)?void 0:a.noticeType;return(e,s)=>{const a=g;return u(),r(a,{class:"msg-notice"},{default:i((()=>[c(a,{class:"notice"},{default:i((()=>[c(a,{class:"notice-content"},{default:i((()=>[c(a,{class:"notice-text"},{default:i((()=>["recall"===d(f)?(u(),r(a,{key:0},{default:i((()=>{var e,s,a;return[m(p(`"${d(l).getUserInfoFromStore(null==(a=null==(s=null==(e=d(n))?void 0:e.noticeInfo)?void 0:s.ext)?void 0:a.from).name}" ${d(I)("recallNotice")}`),1)]})),_:1})):"group"===d(f)?(u(),r(a,{key:1},{default:i((()=>{var e,s,a;return[m(p(`"${d(l).getUserInfoFromStore(null==(a=null==(s=null==(e=d(n))?void 0:e.noticeInfo)?void 0:s.ext)?void 0:a.from).name}" ${d(v).operation} ${d(I)("group")}`),1)]})),_:1})):w("",!0)])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-a608506c"]]),_e=Z(e({__name:"messageList",props:{conversationId:{},conversationType:{}},setup(e,{expose:a}){const v=e,f=s(0),_=s(!1),b=s(""),x=t.messageStore,C=s(!0),T=s(""),U=s(""),F=s(""),P=s([]),E=s(!0);let j=null;const $=e=>{U.value=e},L=()=>{U.value=""};o((()=>{var e;j=l((()=>{const e=M(x.conversationMessagesMap.get(v.conversationId));if(e){const s=[...P.value];P.value=e.messageIds.map((e=>M(t.messageStore.messageMap.get(e)))),C.value=e.isLast,T.value=e.cursor;const a=s.length===P.value.length&&0!==s.length;if(_.value||b.value||a)return;R((()=>{O(),setTimeout((()=>{E.value=!1}),200)}))}})),x.conversationMessagesMap.has(v.conversationId)&&!0===(null==(e=x.conversationMessagesMap.get(v.conversationId))?void 0:e.isGetHistoryMessage)||x.getHistoryMessages({conversationId:v.conversationId,conversationType:v.conversationType})}));const A=async()=>{if(C.value||!0===_.value)return;_.value=!0;const e=P.value[0].id||"";try{await x.getHistoryMessages({conversationId:v.conversationId,conversationType:v.conversationType},T.value,(()=>{})),b.value=e,R((()=>{_.value=!1;const e=setTimeout((()=>{b.value="",clearTimeout(e)}),300)}))}catch(s){_.value=!1}},O=()=>{f.value=999*P.value.length,setTimeout((()=>{f.value+=1}),400)},Q=e=>{F.value||(b.value=e,F.value=e,setTimeout((()=>{F.value="",b.value=""}),1e3))};return n((()=>{j&&j()})),a({scrollToBottom:O}),(e,s)=>{const a=g,t=B;return u(),r(a,{class:S(["msg-list-wrap",{opacity:E.value}]),onClick:L},{default:i((()=>[c(t,{"scroll-y":"","scroll-top":f.value,class:"message-scroll-list","scroll-into-view":`msg-${b.value}`,"scroll-anchoring":!0},{default:i((()=>[C.value||_.value?w("",!0):(u(),r(a,{key:0,class:"loadMore",onClick:A},{default:i((()=>[m(p(d(I)("loadMore")),1)])),_:1})),C.value?(u(),r(a,{key:1,class:"isLast"},{default:i((()=>[m(p(d(I)("noMoreMessage")),1)])),_:1})):w("",!0),_.value?(u(),r(a,{key:2,class:"loading"})):w("",!0),(u(!0),h(y,null,k(P.value,((e,s)=>(u(),r(a,{class:S(["scroll-msg-item",{blink:F.value===(e.serverMsgId||e.id)}]),id:`msg-${e.serverMsgId||e.id}`,key:e.id},{default:i((()=>{var s;return["notice"===(null==(s=null==e?void 0:e.noticeInfo)?void 0:s.type)?(u(),r(fe,{key:0,msg:e},null,8,["msg"])):(u(),r(ve,{key:1,msg:e,onOnLongPress:$,onJumpToMessage:Q,isSelected:e.id===U.value},null,8,["msg","isSelected"]))]})),_:2},1032,["class","id"])))),128))])),_:1},8,["scroll-top","scroll-into-view"])])),_:1},8,["class"])}}}),[["__scopeId","data-v-e05b2ea3"]]),he=Z(e({__name:"index",props:{preventEvent:{type:Boolean}},emits:["onMessageSend","onShowToolbar","onShowEmojiPicker","onRecordAudio","onInputTap","onBlur","onFocus","onMention"],setup(e,{expose:a,emit:l}){const o=t.getFeatureConfig(),n=o.inputVideo||o.inputImage,m=e,p=l,v=t.convStore,f=s(!1);s(null);const _=s(""),h=s([]),y=()=>{p("onShowToolbar")},k=()=>{p("onShowEmojiPicker")},b=()=>{p("onInputTap")},x=e=>{var s,a;const l=null==(s=null==e?void 0:e.detail)?void 0:s.value;t.getFeatureConfig().inputMention&&"groupChat"===(null==(a=t.convStore.currConversation)?void 0:a.conversationType)&&(l.endsWith("@")||l.endsWith("@\n"))&&(f.value=!1,p("onMention",!0))},C=async()=>{let e=$(_.value).trim();if(!e)return void console.warn("No text message");let s={},a=!1;h.value,h.value.includes(L)&&(a=!0);const l=t.messageStore.quoteMessage;l&&(s={msgID:l.serverMsgId||l.id,msgPreview:F(l),msgSender:t.appUserStore.getSelfUserInfo().nickname||"",msgType:l.type},t.messageStore.setQuoteMessage(null));const o=A.message.create({to:v.currConversation.conversationId,chatType:v.currConversation.conversationType,type:"txt",msg:e,ext:{em_at_list:a?L:h.value,ease_chat_uikit_user_info:{avatarURL:t.appUserStore.getSelfUserInfo().avatar,nickname:t.appUserStore.getSelfUserInfo().name},msgQuote:(null==s?void 0:s.msgID)?s:void 0}});_.value="",h.value=[];try{await t.messageStore.sendMessage(o),R((()=>{p("onMessageSend")}))}catch(n){uni.showToast({title:`send failed: ${n.message}`,icon:"none"})}},T=()=>{f.value=!1,p("onBlur")},U=()=>{f.value=!0,p("onFocus")};return a({insertText(e){_.value+=e},setIsFocus(e){f.value=e},addMentionUserIds(e){h.value=[...new Set([...h.value,...e])]}}),(e,s)=>{const a=O,t=g;return u(),r(t,{class:"message-input-wrap"},{default:i((()=>[c(t,{class:"send-input",onClick:b},{default:i((()=>[c(a,{class:S([{"prevent-event":m.preventEvent}]),modelValue:_.value,"onUpdate:modelValue":s[0]||(s[0]=e=>_.value=e),"cursor-spacing":"20",type:"text",focus:f.value,"adjust-position":!1,"auto-blur":!0,"confirm-type":"send","confirm-hold":!0,onInput:x,onConfirm:C,onBlur:T,onFocus:U,placeholder:d(I)("sendMessagePlaceholder")},null,8,["class","modelValue","focus","placeholder"])])),_:1}),d(o).inputEmoji?(u(),r(t,{key:0,class:"icon-wrap"},{default:i((()=>[c(t,{class:"icon emoji-icon",onClick:P(k,["stop"])})])),_:1})):w("",!0),d(n)&&0===_.value.length?(u(),r(t,{key:1,class:"icon-wrap"},{default:i((()=>[c(t,{class:"icon plus-icon",onClick:P(y,["stop"])})])),_:1})):(u(),r(t,{key:2,class:"icon-wrap"},{default:i((()=>[c(t,{class:"icon send-icon",onClick:P(C,["stop"])})])),_:1}))])),_:1})}}}),[["__scopeId","data-v-82d6dba9"]]),ye=Z(e({__name:"itemContainer",props:{title:{},iconUrl:{}},setup(e){const s=e,{title:a,iconUrl:t}=s;return(e,s)=>{const l=x,o=g;return u(),r(o,{class:"tool-item-wrap"},{default:i((()=>[c(o,{class:"icon-wrap"},{default:i((()=>[c(l,{class:"icon",src:d(t)},null,8,["src"])])),_:1}),c(o,null,{default:i((()=>[m(p(d(a)),1)])),_:1})])),_:1})}}}),[["__scopeId","data-v-fbc1f54b"]]),ke=Z(e({__name:"imageUpload",setup(e){const s=T+"icon/imgButton.png",a=I("imageUpload"),l=Q("InputToolbarEvent"),o=t.convStore,n=t.getChatConn(),m=()=>{uni.chooseImage({count:1,sourceType:["album"],success:function(e){p(e)}})},p=e=>{var s,a;const u=(null==(s=null==e?void 0:e.tempFilePaths)?void 0:s[0])||(null==(a=null==e?void 0:e.tempFiles)?void 0:a[0].tempFilePath),r=`${n.apiUrl}/${n.orgName}/${n.appName}/chatfiles`;if(!u)return;const i={url:r,filePath:u,name:"file",header:{Authorization:"Bearer "+n.token}},c=A.message.create({type:"img",to:o.currConversation.conversationId,chatType:o.currConversation.conversationType,url:u,ext:{ease_chat_uikit_user_info:{avatarURL:t.appUserStore.getSelfUserInfo().avatar,nickname:t.appUserStore.getSelfUserInfo().name}}});null==l||l.closeToolbar(),t.messageStore.sendMessage(c,(()=>uni.uploadFile(i)))};return(e,t)=>{const l=g;return u(),r(l,{class:"tool-image-wrap tool-item",onClick:m},{default:i((()=>[c(ye,{title:d(a),iconUrl:s},null,8,["title"])])),_:1})}}}),[["__scopeId","data-v-5d7c8e85"]]),Se=Z(e({__name:"videoUpload",setup(e){const s=T+"icon/videoButton.png",a=I("videoUpload"),l=Q("InputToolbarEvent"),o=t.getChatConn(),n=t.convStore,m=()=>{uni.chooseVideo({sourceType:["camera","album"],success:function(e){p(e)}})},p=e=>{const s=null==e?void 0:e.tempFilePath,a=`${o.apiUrl}/${o.orgName}/${o.appName}/chatfiles`;if(!s)return;const u={url:a,filePath:s,fileType:"video",name:"file",header:{Authorization:"Bearer "+o.token}},r=A.message.create({type:"video",to:n.currConversation.conversationId,chatType:n.currConversation.conversationType,body:{url:s},ext:{ease_chat_uikit_user_info:{avatarURL:t.appUserStore.getSelfUserInfo().avatar,nickname:t.appUserStore.getSelfUserInfo().name}}});null==l||l.closeToolbar(),t.messageStore.sendMessage(r,(()=>uni.uploadFile(u)))};return(e,t)=>{const l=g;return u(),r(l,{class:"tool-video-wrap tool-item",onClick:m},{default:i((()=>[c(ye,{title:d(a),iconUrl:s},null,8,["title"])])),_:1})}}}),[["__scopeId","data-v-956db5f3"]]),Ie=Z(e({__name:"fileUpload",setup(e){const s=T+"icon/folder.png",a=I("file"),l=Q("InputToolbarEvent"),o=t.getChatConn(),n=t.convStore,m=()=>{uni.chooseFile({count:1,success(e){p({tempFile:e.tempFiles[0]})}})},p=e=>{const s=null==e?void 0:e.tempFile,a=`${o.apiUrl}/${o.orgName}/${o.appName}/chatfiles`;if(!s)return;const u=o.token,r={url:a,filePath:s.path,name:"file",header:{Authorization:"Bearer "+u}},i=A.message.create({type:"file",to:n.currConversation.conversationId,chatType:n.currConversation.conversationType,body:{url:s.path,filename:s.name,file_length:s.size},ext:{ease_chat_uikit_user_info:{avatarURL:t.appUserStore.getSelfUserInfo().avatar,nickname:t.appUserStore.getSelfUserInfo().name}}});null==l||l.closeToolbar(),t.messageStore.sendMessage(i,(()=>uni.uploadFile(r)))};return(e,t)=>{const l=g;return u(),r(l,{class:"tool-video-wrap tool-item",onClick:m},{default:i((()=>[c(ye,{title:d(a),iconUrl:s},null,8,["title"])])),_:1})}}}),[["__scopeId","data-v-9d0a74d9"]]),we=Z(e({__name:"userCard",emits:["onUserCardButtonTap"],setup(e,{emit:s}){const a=T+"icon/usercard.png",t=Q("InputToolbarEvent"),l=s,o=()=>{null==t||t.closeToolbar(),l("onUserCardButtonTap")};return(e,s)=>{const t=g;return u(),r(t,{class:"tool-item",onClick:o},{default:i((()=>[c(ye,{title:d(I)("userCard"),iconUrl:a},null,8,["title"])])),_:1})}}}),[["__scopeId","data-v-0a6255b2"]]),be=Z(e({__name:"index",emits:["onUserCardButtonTap"],setup(e,{emit:s}){const a=t.getFeatureConfig(),l=s,o=()=>{l("onUserCardButtonTap")};return(e,s)=>{const t=g,l=q,n=N;return u(),r(t,{class:"message-input-toolbar"},{default:i((()=>[c(n,{class:"swiper"},{default:i((()=>[c(l,{class:"swiper-item"},{default:i((()=>[c(t,{class:"item-wrap"},{default:i((()=>[d(a).inputImage?(u(),r(t,{key:0,class:"item"},{default:i((()=>[c(ke)])),_:1})):w("",!0),d(a).inputVideo?(u(),r(t,{key:1,class:"item",style:{width:"25%"}},{default:i((()=>[c(Se)])),_:1})):w("",!0),d(a).inputFile?(u(),r(t,{key:2,class:"item",style:{width:"25%"}},{default:i((()=>[c(Ie)])),_:1})):w("",!0),d(a).userCard?(u(),r(t,{key:3,class:"item",style:{width:"25%"}},{default:i((()=>[c(we,{onOnUserCardButtonTap:o})])),_:1})):w("",!0)])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-0713a9c6"]]),xe=Z(e({__name:"emojiPicker",emits:["onEmojiPick"],setup(e,{emit:a}){const t=s(z(V,7));V.forEach((e=>{}));const l=a;return(e,s)=>{const a=x,o=g;return u(),r(o,{class:"emoji-picker-wrap"},{default:i((()=>[c(o,{class:"emojis-wrap"},{default:i((()=>[(u(!0),h(y,null,k(t.value,((e,s)=>(u(),r(o,{class:"emojis-row",key:s},{default:i((()=>[(u(!0),h(y,null,k(e,(e=>(u(),r(o,{key:e.alt,class:"emoji-item-wrap"},{default:i((()=>[c(a,{class:"emoji",src:e.url,onClick:s=>{return a=e.alt,void l("onEmojiPick",a);var a}},null,8,["src","onClick"])])),_:2},1024)))),128)),s===t.value.length-1?(u(),h(y,{key:0},[c(o,{class:"emoji-empty"}),c(o,{class:"emoji-empty"}),c(o,{class:"emoji-empty"}),c(o,{class:"emoji-empty"})],64)):w("",!0)])),_:2},1024)))),128))])),_:1})])),_:1})}}}),[["__scopeId","data-v-55234eb2"]]),Ce=Z(e({__name:"messageQuotePanel",setup(e){const a=s(null);l((()=>{a.value=t.messageStore.quoteMessage}));const o=()=>{t.messageStore.setQuoteMessage(null)};return n((()=>{o()})),(e,s)=>{const t=g;return a.value?(u(),r(t,{key:0,class:"msg-quote-panel-wrap"},{default:i((()=>[c(t,{class:"left-wrap"},{default:i((()=>[c(me,{class:"msg-quote-wrap",isReplying:!0})])),_:1}),c(t,{class:"cancel",onClick:o})])),_:1})):w("",!0)}}}),[["__scopeId","data-v-33d7f848"]]),Te=Z(e({__name:"messageEdit",setup(e){const o=s(null),v=s(""),f=s(!0),_=l((()=>{var e;o.value=t.messageStore.editingMessage,v.value=null==(e=o.value)?void 0:e.msg})),h=a((()=>{var e;return v.value!==(null==(e=o.value)?void 0:e.msg)&&$(v.value).trim()})),y=()=>{t.messageStore.setEditingMessage(null)},k=()=>{if(h.value){const e=A.message.create({to:o.value.to,type:o.value.type,chatType:o.value.chatType,msg:v.value});t.messageStore.modifyServerMessage(o.value,e),t.messageStore.setEditingMessage(null)}};return n((()=>{_()})),(e,s)=>{const a=g,t=H;return o.value?(u(),r(a,{key:0,style:{width:"100%"}},{default:i((()=>[c(a,{class:"mask",onClick:y}),c(a,{class:"msg-edit-wrap"},{default:i((()=>[c(a,{class:"title"},{default:i((()=>[m(p(d(I)("messageEditing")),1)])),_:1}),c(a,{class:"content"},{default:i((()=>[c(t,{modelValue:v.value,"onUpdate:modelValue":s[0]||(s[0]=e=>v.value=e),class:"edit-input","cursor-spacing":"20","auto-height":!0,focus:f.value,"confirm-type":"send","adjust-position":!1,"show-confirm-bar":!1},null,8,["modelValue","focus"]),c(a,{onClick:k,class:S(h.value?"edit":"edit-disabled")},null,8,["class"])])),_:1})])),_:1})])),_:1})):w("",!0)}}}),[["__scopeId","data-v-3e16391f"]]),Ue=Z(e({__name:"index",props:{height:{},maskClosable:{type:Boolean},borderRadius:{}},setup(e,{expose:a}){const t=e,l=s(!1),o=s(t.height||300),n=s(null),m=()=>{v(!1,(()=>{l.value=!1}))},p=()=>{t.maskClosable&&m()},v=(e,s)=>{const a=uni.createAnimation({duration:300,timingFunction:"ease-in-out"});e?a.translateY(0).step():a.translateY(o.value).step(),n.value=a.export(),s&&setTimeout(s,300)},f=(e,s)=>{const a=uni.createAnimation({duration:300,timingFunction:"ease"});e?a.opacity(0).step():a.opacity(1).step(),n.value=a.export()},_=n;return a({openPopup:()=>{l.value=!0,v(!0)},closePopup:m}),(e,s)=>{const a=g;return u(),r(a,{class:S(["popup-container",{"popup-container-hide ":!l.value}])},{default:i((()=>[D(c(a,{class:"mask",onClick:p,animation:f},null,512),[[K,l.value]]),c(a,{class:S(["popup",{"popup-show":l.value}]),animation:d(_),style:C({borderTopLeftRadius:t.borderRadius,borderTopRightRadius:t.borderRadius,height:`${o.value}px`})},{default:i((()=>[c(a,{class:"popup-content"},{default:i((()=>[G(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3},8,["class","animation","style"])])),_:3},8,["class"])}}}),[["__scopeId","data-v-9b2be8e9"]]),Me=Z(e({__name:"index",emits:["onSelect"],setup(e,{expose:a,emit:l}){const o=T+"icon/alAll.png",n=l,v=s([]),f=s(!0),_=s(null);let S=!1,w=1;const b=async()=>{var e;S=!0;const s=(null==(e=t.convStore.currConversation)?void 0:e.conversationId)||"";try{const e=(await t.groupStore.getGroupMembers(s,w)).data||[];v.value.push(...e),e.length<W&&(f.value=!1),S=!1}catch(a){S=!1}},x=()=>{S||!1===f.value||(w++,b())},C=e=>{n("onSelect",[e]),U()},U=()=>_.value.closePopup();return a({showPopup:()=>{_.value.openPopup(),0===v.value.length&&b()},hidePopup:U}),(e,s)=>{const a=g,l=B;return u(),r(a,null,{default:i((()=>[c(Ue,{height:500,borderRadius:"10px",maskClosable:!0,ref_key:"popupRef",ref:_},{default:i((()=>[c(a,{class:"content-wrap"},{default:i((()=>[c(a,{class:"header"},{default:i((()=>[c(a,{class:"left",onClick:U},{default:i((()=>[c(a,{class:"arrow-left"}),c(a,{class:"mention"},{default:i((()=>[m(p(d(I)("mention")),1)])),_:1})])),_:1})])),_:1}),c(a,{class:"content"},{default:i((()=>[c(l,{"scroll-y":"",style:{height:"100%"},onScrolltolower:x},{default:i((()=>[(u(),r(ee,{class:"member-item",key:d(I)("mentionAll"),avatar:o,user:{userId:d(I)("mentionAll")},onClick:s[0]||(s[0]=e=>C(d(L)))},null,8,["user"])),(u(!0),h(y,null,k(v.value,(e=>D((u(),r(ee,{class:"member-item",key:e.member||e.owner,user:{userId:e.member||e.owner},onClick:s=>C(e.member||e.owner)},null,8,["user","onClick"])),[[K,(e.member||e.owner)!==d(t).getChatConn().user]]))),128))])),_:1})])),_:1})])),_:1})])),_:1},512)])),_:1})}}}),[["__scopeId","data-v-069e2e24"]]),Fe=Z(e({__name:"index",emits:["onSelect"],setup(e,{expose:a,emit:o}){const v=o,f=s(null),_=s([]),h=l((()=>{_.value=t.contactStore.contacts.map((e=>({...e,...t.appUserStore.getUserInfoFromStore(e.userId),id:e.userId})))})),y=()=>f.value.closePopup();return a({showPopup:()=>f.value.openPopup(),hidePopup:y}),n((()=>{h()})),(e,s)=>{const a=g;return u(),r(a,null,{default:i((()=>[c(Ue,{height:500,borderRadius:"10px",maskClosable:!0,ref_key:"popupRef",ref:f},{default:i((()=>[c(a,{class:"content-wrap"},{default:i((()=>[c(a,{class:"header"},{default:i((()=>[c(a,{class:"left",onClick:y},{default:i((()=>[c(a,{class:"arrow-left"}),c(a,{class:"share"},{default:i((()=>[m(p(d(I)("shareContact")),1)])),_:1})])),_:1})])),_:1}),c(a,{class:"content"},{default:i((()=>[c(se,{class:"contact-indexed-list",options:_.value},{indexedItem:i((e=>[c(ee,{class:"contact-item",user:e.item,onClick:s=>{return a=e.item.userId,v("onSelect",[a]),void y();var a}},null,8,["user","onClick"])])),_:1},8,["options"])])),_:1})])),_:1})])),_:1},512)])),_:1})}}}),[["__scopeId","data-v-65de99c5"]]),Pe=Z(e({__name:"index",setup(e){const m=s(null),p=s(null),v=s(null),f=s(null),_=s(""),h=s(!1),y=s(!1),k=s(!1),b=s("0px"),x=s(""),T=t.getFeatureConfig(),U=a((()=>h.value||y.value)),M=l((()=>{k.value=!!t.messageStore.editingMessage})),F=l((()=>{var e,s;t.messageStore.quoteMessage?null==(e=null==p?void 0:p.value)||e.setIsFocus(!0):null==(s=null==p?void 0:p.value)||s.setIsFocus(!1)})),P=({height:e})=>{var s;b.value=e+"px",null==(s=null==m?void 0:m.value)||s.scrollToBottom()},E=()=>{var e;j(),null==(e=null==p?void 0:p.value)||e.setIsFocus(!0)},j=()=>{!0===h.value&&(h.value=!1),!0===y.value&&(y.value=!1)},R=e=>{null==p||p.value.insertText(e)},B=()=>{var e;null==(e=null==v?void 0:v.value)||e.showPopup()},$=()=>{var e;null==(e=null==f?void 0:f.value)||e.showPopup()},O=e=>{const s=e.map((e=>e===L?I("mentionAll"):t.appUserStore.getUserInfoFromStore(e).name));let a=s.join("");0!==s.length?(null==p||p.value.addMentionUserIds(e),null==p||p.value.insertText(a)):a=s.join("@")},Q=e=>{const s=e[0],a=t.appUserStore.getUserInfoFromStore(s),l=A.message.create({type:"custom",to:t.convStore.currConversation.conversationId,chatType:t.convStore.currConversation.conversationType,ext:{ease_chat_uikit_user_info:{avatarURL:t.appUserStore.getSelfUserInfo().avatar,nickname:t.appUserStore.getSelfUserInfo().name}},customEvent:"userCard",customExts:{avatar:a.avatar,nickname:a.name,uid:s}});t.messageStore.sendMessage(l)};return o((()=>{(_.value||x.value)&&t.convStore.markConversationRead({conversationId:_.value,conversationType:x.value})})),n((()=>{t.messageStore.setQuoteMessage(null),t.messageStore.setEditingMessage(null),t.messageStore.cleanupRemovedMessages(_.value),t.convStore.setCurrentConversation(null),F(),M()})),ae((e=>{x.value=null==e?void 0:e.type,_.value=null==e?void 0:e.id,(null==e?void 0:e.id)&&t.convStore.setCurrentConversation({conversationId:_.value,conversationType:x.value}),uni.onKeyboardHeightChange&&uni.onKeyboardHeightChange(P)})),te((()=>{uni.onKeyboardHeightChange&&uni.offKeyboardHeightChange(P)})),Y("InputToolbarEvent",{closeToolbar:j}),(e,s)=>{const a=g;return u(),r(a,{class:S(["chat-wrap",{"chat-wrap-keyboard-close":"0px"===b.value}]),style:C({height:`calc(100% - ${b.value})`})},{default:i((()=>[c(le),c(a,{class:"msgs-wrap"},{default:i((()=>[U.value?(u(),r(a,{key:0,class:"mask",onClick:j})):w("",!0),c(_e,{ref_key:"msgListRef",ref:m,conversationId:_.value,conversationType:x.value},null,8,["conversationId","conversationType"])])),_:1}),c(Ce),k.value?(u(),r(Te,{key:0,style:C({position:"fixed",width:"100%",height:`calc(100% - ${b.value})`,overflow:"hidden","z-index":9})},null,8,["style"])):w("",!0),c(a,{class:"chat-input-wrap"},{default:i((()=>[c(he,{ref_key:"msgInputRef",ref:p,preventEvent:h.value||y.value,onOnInputTap:E,onOnMention:B,onOnRecordAudio:s[0]||(s[0]=e=>{h.value=!1,y.value=!1}),onOnShowToolbar:s[1]||(s[1]=e=>{h.value=!h.value,y.value=!1}),onOnShowEmojiPicker:s[2]||(s[2]=e=>{y.value=!y.value,h.value=!1})},null,8,["preventEvent"])])),_:1}),h.value?(u(),r(a,{key:1,class:"chat-input-toolbar-wrap"},{default:i((()=>[c(be,{onOnUserCardButtonTap:$})])),_:1})):w("",!0),y.value?(u(),r(xe,{key:2,onOnEmojiPick:R})):w("",!0),d(T).inputMention?(u(),r(Me,{key:3,ref_key:"mentionListRef",ref:v,onOnSelect:O},null,512)):w("",!0),d(T).userCard?(u(),r(Fe,{key:4,ref_key:"contactListRef",ref:f,onOnSelect:Q},null,512)):w("",!0)])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-7ae55287"]]);export{Pe as default};
