import{d as e,r as o,z as r,a,c as s,w as n,b as t,u as i,J as l,K as u,L as c,h as d,H as p,s as m}from"./index-GeUo7Bki.js";import{N as v}from"./index.CiZC1uyQ.js";import{S as f}from"./index.BkQU32_s.js";import{G as h}from"./index.DC8bnXB4.js";import{U as I}from"./index.zxHxZ29P.js";import{E as g}from"./index.OU-fBEhP.js";import{_}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./index.B1QDEPm4.js";const x=_(e({__name:"index",setup(e){const _=o(""),x=o(null),y=e=>{_.value=e},k=r((()=>_.value?m.convStore.conversationList.filter((e=>{var o;return"singleChat"===e.conversationType?m.appUserStore.getUserInfoFromStore(e.conversationId).name.includes(_.value):null==(o=m.groupStore.getGroupInfoFromStore(e.conversationId))?void 0:o.groupName.includes(_.value)})):[])),C=()=>{uni.switchTab({url:"/ChatUIKit/modules/Conversation/index"})},S=()=>{uni.navigateBack()};return(e,o)=>{const r=d;return a(),s(r,{class:"search-list-wrap"},{default:n((()=>[t(v,{onOnLeftTap:S},{left:n((()=>[t(r,{class:"input-wrap"},{default:n((()=>[t(f,{ref_key:"searchRef",ref:x,placeholder:i(p)("conversationSearchPlaceholder"),onInput:y,onCancel:C},null,8,["placeholder"])])),_:1})])),_:1}),k.value.length?(a(),s(r,{key:0,class:"search-content"},{default:n((()=>[(a(!0),l(c,null,u(k.value,(e=>(a(),s(r,{class:"search-item",key:e.conversationId,onClick:o=>(e=>{uni.redirectTo({url:`/ChatUIKit/modules/Chat/index?id=${e.conversationId}&type=${e.conversationType}`})})(e)},{default:n((()=>["groupChat"===e.conversationType?(a(),s(h,{key:0,group:i(m).groupStore.getGroupInfoFromStore(e.conversationId)},null,8,["group"])):(a(),s(I,{key:1,user:{userId:e.conversationId}},null,8,["user"]))])),_:2},1032,["onClick"])))),128))])),_:1})):(a(),s(g,{key:1}))])),_:1})}}}),[["__scopeId","data-v-bf6ff37a"]]);export{x as default};
