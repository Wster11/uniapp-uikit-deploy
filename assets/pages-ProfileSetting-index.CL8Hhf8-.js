import{d as e,r as a,G as l,F as t,Q as s,o,a as n,c as r,w as u,b as p,t as i,u as f,e as d,M as c,j as m,R as v}from"./index-BkrUuuud.js";import{N as _}from"./index.D1vfVCH7.js";import{U as x}from"./index.iLgFxnwZ.js";import{t as g}from"./locales.BWIMgwgX.js";import{_ as h}from"./_plugin-vue_export-helper.BCo6x5W8.js";const j=h(e({__name:"index",setup(e){const h=a(""),j=a({}),U=l((()=>{j.value=t.appUserStore.getSelfUserInfo(),h.value=j.value.name})),b=s((()=>h.value===j.value.name)),S=()=>{b.value||t.appUserStore.updateUserInfo({nickname:h.value}).finally((()=>{C()}))},C=()=>{c()};return o((()=>{U()})),(e,a)=>{const l=m,t=v;return n(),r(l,{class:"profile-setting-wrap"},{default:u((()=>[p(_,{onOnLeftTap:C},{left:u((()=>[p(l,{class:"title",textContent:i(f(g)("profileSettingTitle"))},null,8,["textContent"])])),_:1}),p(l,{class:"content"},{default:u((()=>[p(t,{class:"textarea",maxlength:128,"auto-height":"true",focus:"true",placeholder:f(g)("profileSettingPlaceholder"),modelValue:h.value,"onUpdate:modelValue":a[0]||(a[0]=e=>h.value=e)},null,8,["placeholder","modelValue"]),p(l,{class:"count"},{default:u((()=>[d(i(h.value.length)+" / 128 ",1)])),_:1})])),_:1}),p(l,{class:"profile-btn-wrap"},{default:u((()=>[p(x,{class:"profile-btn",disabled:b.value,onClick:S},{default:u((()=>[d(i(f(g)("presenceConfirm")),1)])),_:1},8,["disabled"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-c023ff32"]]);export{j as default};
