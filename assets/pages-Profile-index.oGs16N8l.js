import{d as e,F as a,r as s,G as t,o as r,a as l,c as o,w as i,b as n,t as p,u as f,e as u,M as c,n as m,N as d,O as _,P as h,j as v,L as x}from"./index-BkrUuuud.js";import{N as g}from"./index.D1vfVCH7.js";import{A as C}from"./index.CZ5ye3_-.js";import{M as j}from"./index.BjS9BaQ8.js";import{t as k}from"./locales.BWIMgwgX.js";import{_ as S}from"./_plugin-vue_export-helper.BCo6x5W8.js";const U=S(e({__name:"index",setup(e){const S=a.getChatConn().user,U=s({}),N=t((()=>{U.value=a.appUserStore.getSelfUserInfo()})),P=()=>{c()},w=()=>{m({url:"/pages/ProfileSetting/index"})},A=()=>{d({count:1,success:e=>{_({url:h(S),filePath:e.tempFilePaths[0],fileType:"image",name:"file",header:{Authorization:"Bearer "+a.getChatConn().token},success:e=>{const s=JSON.parse(e.data);a.appUserStore.updateUserInfo({avatarurl:s.avatarUrl})}})}})};return r((()=>{N()})),(e,a)=>{const s=v;return l(),o(s,{class:"profile-wrap"},{default:i((()=>[n(g,{onOnLeftTap:P},{left:i((()=>[n(s,{class:"title",textContent:p(f(k)("profileTitle"))},null,8,["textContent"])])),_:1}),n(s,{class:"menu-wrap"},{default:i((()=>[n(j,{class:"profile-menu",title:f(k)("profileAvatar"),onClick:A},{right:i((()=>[n(C,{class:"profile-avatar",src:U.value.avatar,size:40,placeholder:f(x)},null,8,["src","placeholder"])])),_:1},8,["title"]),n(j,{class:"profile-menu",title:f(k)("profileNick"),onClick:w},{right:i((()=>[n(s,{class:"profile-name ellipsis"},{default:i((()=>[u(p(U.value.name),1)])),_:1})])),_:1},8,["title"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-6be2f808"]]);export{U as default};
