import{d as e,s as a,r as t,v as s,o as l,a as r,c as o,w as i,b as n,t as p,u,e as c,y as f,h as m,x as d}from"./index-CMBojU-y.js";import{N as h}from"./index.BiVsuDlj.js";import{A as v}from"./index.DtZGDS2j.js";import{M as _}from"./index.BONKNW1L.js";import{t as g}from"./locales.CN6s_NGi.js";import{_ as x}from"./_plugin-vue_export-helper.BCo6x5W8.js";const C=x(e({__name:"index",setup(e){const x=a.getChatConn().user,C=t({}),j=s((()=>{C.value=a.appUserStore.getSelfUserInfo()})),k=()=>{uni.navigateBack()},S=()=>{uni.navigateTo({url:"/pages/ProfileSetting/index"})},U=()=>{uni.chooseImage({count:1,success:e=>{uni.uploadFile({url:f(x),filePath:e.tempFilePaths[0],fileType:"image",name:"file",header:{Authorization:"Bearer "+a.getChatConn().token},success:e=>{const t=JSON.parse(e.data);a.appUserStore.updateUserInfo({avatarurl:t.avatarUrl})}})}})};return l((()=>{j()})),(e,a)=>{const t=m;return r(),o(t,{class:"profile-wrap"},{default:i((()=>[n(h,{onOnLeftTap:k},{left:i((()=>[n(t,{class:"title",textContent:p(u(g)("profileTitle"))},null,8,["textContent"])])),_:1}),n(t,{class:"menu-wrap"},{default:i((()=>[n(_,{class:"profile-menu",title:u(g)("profileAvatar"),onClick:U},{right:i((()=>[n(v,{class:"profile-avatar",src:C.value.avatar,size:40,placeholder:u(d)},null,8,["src","placeholder"])])),_:1},8,["title"]),n(_,{class:"profile-menu",title:u(g)("profileNick"),onClick:S},{right:i((()=>[n(t,{class:"profile-name ellipsis"},{default:i((()=>[c(p(C.value.name),1)])),_:1})])),_:1},8,["title"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-48f98035"]]);export{C as default};
