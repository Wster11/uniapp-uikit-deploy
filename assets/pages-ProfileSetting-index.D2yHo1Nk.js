import{d as e,r as a,v as l,s as t,z as s,o,a as n,c as r,w as u,b as i,t as p,u as d,e as f,h as c,B as m}from"./index-DI0MeBrL.js";import{N as v}from"./index.Bk_tjOry.js";import{U as _}from"./index.DeW6hSRs.js";import{t as x}from"./locales.CN6s_NGi.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";const h=g(e({__name:"index",setup(e){const g=a(""),h=a({}),b=l((()=>{h.value=t.appUserStore.getSelfUserInfo(),g.value=h.value.name})),U=s((()=>g.value===h.value.name)),j=()=>{U.value||t.appUserStore.updateUserInfo({nickname:g.value}).finally((()=>{S()}))},S=()=>{uni.navigateBack()};return o((()=>{b()})),(e,a)=>{const l=c,t=m;return n(),r(l,{class:"profile-setting-wrap"},{default:u((()=>[i(v,{onOnLeftTap:S},{left:u((()=>[i(l,{class:"title",textContent:p(d(x)("profileSettingTitle"))},null,8,["textContent"])])),_:1}),i(l,{class:"content"},{default:u((()=>[i(t,{class:"textarea",maxlength:128,"auto-height":"true",focus:"true",placeholder:d(x)("profileSettingPlaceholder"),modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=e=>g.value=e)},null,8,["placeholder","modelValue"]),i(l,{class:"count"},{default:u((()=>[f(p(g.value.length)+" / 128 ",1)])),_:1})])),_:1}),i(l,{class:"profile-btn-wrap"},{default:u((()=>[i(_,{class:"profile-btn",disabled:U.value,onClick:j},{default:u((()=>[f(p(d(x)("presenceConfirm")),1)])),_:1},8,["disabled"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-56d2ebcf"]]);export{h as default};
