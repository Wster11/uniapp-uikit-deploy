import{d as e,r as t,G as s,F as a,o as n,a as o,c as r,w as l,b as c,u as i,n as u,j as d,L as p,e as m,t as _,g as f,Z as x}from"./index-BkrUuuud.js";import{S as h}from"./index.BRQSkVPY.js";import{M as I}from"./index.BjS9BaQ8.js";import{U as v}from"./index.CAY8m-Ih.js";import{I as C}from"./index.BYGzmpDq.js";import{A as g}from"./index.CZ5ye3_-.js";import{N as j}from"./index.D1vfVCH7.js";import{_ as U}from"./_plugin-vue_export-helper.BCo6x5W8.js";const k=U(e({__name:"index",setup(e){const m=t({}),_=s((()=>{m.value=a.appUserStore.getSelfUserInfo()})),f=()=>{u({url:"/ChatUIKIT/modules/ContactAdd/index"})};return n((()=>{_()})),(e,t)=>{const s=d;return o(),r(s,null,{default:l((()=>[c(j,{showBackArrow:!1},{left:l((()=>[c(g,{size:32,src:m.value.avatar,withPresence:!0,placeholder:i(p),presenceExt:m.value.presenceExt,isOnline:m.value.isOnline},null,8,["src","placeholder","presenceExt","isOnline"])])),center:l((()=>[c(s,{class:"title"})])),right:l((()=>[c(s,{class:"btn-wrap"},{default:l((()=>[c(s,{class:"action-btn",onClick:f})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-5bca9c0c"]]),w=U(e({__name:"index",setup(e){const p=t([]),g=t(0),j=t(0),U=s((()=>{j.value=a.contactStore.contactsNoticeInfo.unReadCount})),w=s((()=>{p.value=a.contactStore.contacts.map((e=>({...e,...a.appUserStore.getUserInfoFromStore(e.userId),id:e.userId})))})),S=s((()=>{g.value=a.groupStore.joinedGroupList.length})),L=()=>{u({url:"/ChatUIKIT/modules/GroupList/index"})},b=()=>{u({url:"/ChatUIKIT/modules/ContactSearchList/index"})},K=()=>{u({url:"/ChatUIKIT/modules/ContactRequestList/index"})};return n((()=>{w(),U(),S()})),(e,t)=>{const s=d;return o(),r(s,{class:"contact-list-wrap"},{default:l((()=>[c(s,{class:"header-wrap"},{default:l((()=>[c(k),c(h,{onClick:b,class:"contact-search"})])),_:1}),c(C,{class:"contact-index-list",options:p.value},{header:l((()=>[c(s,{class:"contact-menu-wrap"},{default:l((()=>[c(I,{onClick:K,class:"contact-menu",title:i(x)("newRequest")},{right:l((()=>[j.value?(o(),r(s,{key:0,class:"request-count"},{default:l((()=>[m(_(j.value>99?"99+":j.value),1)])),_:1})):f("",!0)])),_:1},8,["title"]),c(I,{onClick:L,class:"contact-menu",title:i(x)("groupList")},{right:l((()=>[g.value?(o(),r(s,{key:0,class:"count"},{default:l((()=>[m(_(g.value),1)])),_:1})):f("",!0)])),_:1},8,["title"])])),_:1})])),indexedItem:l((e=>[c(v,{user:e.item,onClick:t=>{return s=e.item.userId,void u({url:`/ChatUIKIT/modules/Chat/index?type=singleChat&id=${s}`});var s}},null,8,["user","onClick"])])),_:1},8,["options"])])),_:1})}}}),[["__scopeId","data-v-259b3004"]]);export{w as default};
