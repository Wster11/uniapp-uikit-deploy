import{d as e,r as t,v as a,s,o as n,a as o,c as l,w as r,b as i,u as c,h as u,x as d,G as p,e as m,t as v,g as x,V as _,H as f}from"./index-fSRWKzgu.js";import{S as h}from"./index.CToDXB0S.js";import{M as I}from"./index.BQrjhHng.js";import{U as C}from"./index.Bxvr2sm7.js";import{I as g}from"./index.15MsXqjx.js";import{A as k}from"./index.DAuhM-vq.js";import{N as w}from"./index.D-qcNAZ3.js";import{_ as T}from"./_plugin-vue_export-helper.BCo6x5W8.js";const U=T(e({__name:"index",setup(e){const p=t({}),m=a((()=>{p.value=s.appUserStore.getSelfUserInfo()})),v=()=>{uni.navigateTo({url:"/ChatUIKIT/modules/ContactAdd/index"})};return n((()=>{m()})),(e,t)=>{const a=u;return o(),l(a,null,{default:r((()=>[i(w,{showBackArrow:!1},{left:r((()=>[i(k,{size:32,src:p.value.avatar,withPresence:!0,placeholder:c(d),presenceExt:p.value.presenceExt,isOnline:p.value.isOnline},null,8,["src","placeholder","presenceExt","isOnline"])])),center:r((()=>[i(a,{class:"title"})])),right:r((()=>[i(a,{class:"btn-wrap"},{default:r((()=>[i(a,{class:"action-btn",onClick:v})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-5bca9c0c"]]),j=T(e({__name:"index",setup(e){const d=t([]),k=t(0),w=t(0),T=a((()=>{w.value=s.contactStore.contactsNoticeInfo.unReadCount})),j=a((()=>{d.value=s.contactStore.contacts.map((e=>({...e,...s.appUserStore.getUserInfoFromStore(e.userId),id:e.userId})))})),S=a((()=>{k.value=s.groupStore.joinedGroupList.length})),b=()=>{uni.navigateTo({url:"/ChatUIKIT/modules/GroupList/index"})},K=()=>{uni.navigateTo({url:"/ChatUIKIT/modules/ContactSearchList/index"})},L=()=>{uni.navigateTo({url:"/ChatUIKIT/modules/ContactRequestList/index"})};return n((()=>{j(),T(),S()})),(e,t)=>{const a=u;return o(),l(a,{class:"contact-list-wrap"},{default:r((()=>[i(a,{class:"header-wrap"},{default:r((()=>[i(U),i(h,{onClick:K,class:"contact-search"})])),_:1}),i(a,{class:p(c(_)?"wx-block":"block")},null,8,["class"]),i(g,{class:"contact-index-list",options:d.value},{header:r((()=>[i(a,{class:"contact-menu-wrap"},{default:r((()=>[i(I,{onClick:L,class:"contact-menu",title:c(f)("newRequest")},{right:r((()=>[w.value?(o(),l(a,{key:0,class:"request-count"},{default:r((()=>[m(v(w.value>99?"99+":w.value),1)])),_:1})):x("",!0)])),_:1},8,["title"]),i(I,{onClick:b,class:"contact-menu",title:c(f)("groupList")},{right:r((()=>[k.value?(o(),l(a,{key:0,class:"count"},{default:r((()=>[m(v(k.value),1)])),_:1})):x("",!0)])),_:1},8,["title"])])),_:1})])),indexedItem:r((e=>[i(C,{user:e.item,onClick:t=>{return a=e.item.userId,void uni.navigateTo({url:`/ChatUIKIT/modules/Chat/index?type=singleChat&id=${a}`});var a}},null,8,["user","onClick"])])),_:1},8,["options"])])),_:1})}}}),[["__scopeId","data-v-cc85606a"]]);export{j as default};
